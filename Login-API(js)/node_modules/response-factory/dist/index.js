"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const codemap_1 = require("./codemap");
const i18n_1 = require("./i18n");
class ResponseFactory {
    constructor() {
        this.codeMap = new codemap_1.default();
        this.i18nMap = new i18n_1.default();
    }
    setMap(codeList) {
        this.codeMap.install(codeList);
    }
    i18n(i18nList) {
        this.i18nMap.install(i18nList);
    }
    get(key, langCode) {
        if (!this.codeMap.has(key)) {
            // 匹配不到
            return void 0;
        }
        let { code, alias, data, msg } = this.codeMap.get(key);
        if (alias && langCode) {
            let langMsg = this.i18nMap.get(alias, langCode);
            langMsg && (msg = langMsg);
        }
        return { code, data, msg };
    }
}
exports.default = ResponseFactory;
//# sourceMappingURL=index.js.map